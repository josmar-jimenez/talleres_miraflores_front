<section class="content container-finder" #finder>
    <!-- Buscador -->
    <div>
        <input type="text" class="input-finder" list="inputFindProduct"  placeholder='Buscamos tu repuesto...'  (keyup)="changeFinderInput($event)" 
        (keyup.enter)="goToFoundsWithEnter($event,found)" [(ngModel)]="inputFinder">
        <i class="fa fa-search" (click)="goToFounds(found)"></i>
        <datalist id="inputFindProduct" class="form-select">
            <option value="{{item.name}}" *ngFor="let item of productList" class="optionFound"> 
        </datalist>
    </div>
    <div class="container-center">
        <button type="button" class="btn btn-primary button-finder" (click)="goToFounds(found)">Buscar tu
            repuesto</button>
    </div>
    <div class="container-center">
        <h1 class="slogan">La forma más Fácil y Segura de comprar tu repuesto</h1>
    </div>
</section>

<section class="container container-found" #found>
    <div class="container-center" *ngIf="productFoundList.length>0 && findProducts">
        <h1 class="products-founds">Productos encontrados:</h1>
    </div>
    <div class="dataTables_wrapper dt-bootstrap4" *ngIf="productFoundList.length>0 && findProducts">
        <div class="col-sm-12">
            <table id="table_product" class="table table-bordered table-striped dataTable dtr-inline" role="grid"
                aria-describedby="table_product_info">
                <thead>
                    <tr role="row">
                        <th class="sorting" tabindex="0" aria-controls="table_product" rowspan="1" colspan="1"
                            aria-label="Rendering engine: activate to sort column ascending">
                            Imagen
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="table_product" rowspan="1" colspan="1"
                            aria-label="Rendering engine: activate to sort column ascending">
                            Nombre
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="table_product" rowspan="1" colspan="1"
                            aria-label="Rendering engine: activate to sort column ascending">
                            Precio
                        </th>
                        <th class="sorting" tabindex="0" aria-controls="table_product" rowspan="1" colspan="1"
                            aria-label="Rendering engine: activate to sort column ascending">
                            Tiendas
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="odd" *ngFor="let product of productFoundList  | paginate:{itemsPerPage: 3, currentPage: paginator.num_page, totalItems: productFoundList.length}">
                        <td class="dtr-control product-item-table" style="width: 20%;">
                            <div class="mt-3 pb-3 mb-3 image-list-div">
                                <div>
                                    <img class="image-list" [src]="product.image" title="Imagen referencial" />
                                </div>
                            </div>
                        </td>
                        <td class="dtr-control product-item-table" style="width: 30%;">{{product.name}}</td>
                        <td class="dtr-control product-item-table" style="width: 10%;">{{product.price}} $</td>
                        <td class="dtr-control product-item-table" style="width: 40%;">
                            <ul class="list-group">
                                <li class="list-group-item"  *ngFor="let store of product.stores"> 
                                    {{store.name}} <br> {{store.address}} <br>{{store.phone}}
                                </li>
                               
                            </ul>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <app-pagination-list [paginador]="info_component.list.pagination"></app-pagination-list>
    </div>
    <div class="container-center" *ngIf="productFoundList.length>0 && findProducts">
        <button type="button" class="btn btn-primary button-found" (click)="goToFinder(finder)">Volver arriba</button>
    </div>
</section>
<!-- Pie de página -->